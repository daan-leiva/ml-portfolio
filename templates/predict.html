{% extends 'base.html' %}

{% block title %}Predict - Iris Classifier{% endblock %}

{% block content %}
<section class="wrapper style2">
  <div class="inner">

    <header class="major">
      <h1>Iris Classifier</h1>
      <p>Predict the species of an Iris flower based on its measurements using a SageMaker-hosted ML model.</p>
    </header>

    <div class="box" style="margin-bottom: 2rem;">
      <h2>ML Cloud Model Deployment</h2>
      <p>This project demonstrates a complete machine learning deployment pipeline using AWS SageMaker and Flask.</p>
      <ul>
        <li>Trains a Random Forest Classifier on the Iris dataset</li>
        <li>Packages and uploads the model to AWS S3</li>
        <li>Deploys the model to SageMaker as a persistent endpoint</li>
        <li>Integrates a Flask web form to send input and receive predictions</li>
        <li>Provides a test interface through this page</li>
      </ul>
      <p><em>Example:</em> Input sepal and petal measurements, and the model returns the predicted Iris species.</p>
    </div>

    <form method="POST">
      <div class="fields">
        <div class="field half">
          <label for="feature1">Sepal Length (cm)</label>
          <input type="text" name="feature1" id="feature1" required>
          <small>(Range: 4.3 – 7.9)</small>
        </div>
        <div class="field half">
          <label for="feature2">Sepal Width (cm)</label>
          <input type="text" name="feature2" id="feature2" required>
          <small>(Range: 2.0 – 4.4)</small>
        </div>
        <div class="field half">
          <label for="feature3">Petal Length (cm)</label>
          <input type="text" name="feature3" id="feature3" required>
          <small>(Range: 1.0 – 6.9)</small>
        </div>
        <div class="field half">
          <label for="feature4">Petal Width (cm)</label>
          <input type="text" name="feature4" id="feature4" required>
          <small>(Range: 0.1 – 2.5)</small>
        </div>
      </div>

      <ul class="actions">
        <li><input type="submit" value="Predict" class="primary" /></li>
      </ul>
    </form>

    {% if prediction %}
    <section class="box" style="margin-top: 2rem;">
      <h3>Prediction Result</h3>
      <p><strong>Predicted Class:</strong> {{ prediction }}</p>
      <p><strong>Input Features:</strong> {{ features }}</p>
    </section>
    {% endif %}

  </div>
</section>
{% endblock %}
